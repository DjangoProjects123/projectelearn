{% extends "base.html" %}
{% load static %}
{% block title %}
    Analytics
{% endblock %}
{% block extrahead %}



{% endblock %}
{% block content %}

<!-- Home -->

<div class="home">	 
	</div>

	 
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="section_title text-center">
							<h1>Course Analytics</h1>
						</div>
                        <h1><a href="{% url "manage_course_list" %}">Back to My Courses</a></h1>
					</div>
				</div>
	
				<div class="row course_boxes">
					 
                </div>
                
                <!-- Popular -->
<!--displaying the analytics-->
	<div class="popular page_section">
            <div class="container">
                     
                <div style="margin-top: 80px"></div>
                <div class="row row-eq-height">
                    <div class="col-lg-12">
                        <canvas  id="pieChartStudentCourse" style="height: 80%; max-width:100%; margin: 0px auto;"></canvas>

                    </div>
                </div>
                     

                <div style="margin-top: 80px"></div>
                <h1><a href="{% url "analytics_instructor_enrollment" %}">Enrollment Details</a></h1>
                  <div class="row row-eq-height">
                    <div class="col-lg-3"></div>

                    <div class="col-lg-6">
                        <canvas id="studentProgress"  style="height: 100%; max-width:100%; margin: 0px auto;"></canvas>                    
                    </div>
                    <div class="col-lg-3">
                            <ul>
                             {% for course in courses %}            
                                    <li>{{course.title}}</li>   
                                    <li>{{course.total_students}}</li>
                              {% endfor %} 

                            </ul>            
                    </div>
                  </div>

                  <div style="margin-top: 80px"></div>
                
            </div>		
        </div>
       </div>		
	 

    
{% endblock %}


<script type="text/javascript">
    window.onload = function() { 
       // my django variables go here 
       //i will need an array of courses and the total number of students in it
var ctx = document.getElementById("pieChartStudentCourse").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: { 
             
            datasets: [{
                label: 'Number of students per course',                  
                backgroundColor: [
                    'rgba(255,0,0, 0.7)',
                    'rgba(0,200,0, 0.7)',
                    'rgba( 200,255,0,0.7)',
                    'rgba(0,155,255, 0.7)',
                                         
                ],
                borderColor: [
                    
                ],
                borderWidth: 1
                 }]
             },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero:true
                        }
                    }]
                }
            }
        });
         
        
    }
</script> 

{%block domready}   
      
{%endblock}
